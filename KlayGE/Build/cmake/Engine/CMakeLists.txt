ADD_SUBDIRECTORY(Core/TableGen)
ADD_SUBDIRECTORY(Core)

ADD_SUBDIRECTORY(Plugins/Scene/OCTree)
ADD_SUBDIRECTORY(Plugins/Input/MsgInput)
ADD_SUBDIRECTORY(Plugins/Script/Python)
ADD_SUBDIRECTORY(Plugins/Audio/OggVorbis)

IF(NOT KLAYGE_PLATFORM_WINDOWS_STORE)
	IF((NOT KLAYGE_PLATFORM_ANDROID) AND (NOT KLAYGE_PLATFORM_IOS))
		ADD_SUBDIRECTORY(Plugins/Render/OpenGL)
	ENDIF()
	ADD_SUBDIRECTORY(Plugins/Render/OpenGLES)

	IF((NOT KLAYGE_PLATFORM_ANDROID) AND (NOT KLAYGE_PLATFORM_IOS) AND (NOT KLAYGE_PLATFORM_NAME STREQUAL "win_arm") AND (NOT KLAYGE_PLATFORM_NAME STREQUAL "win_arm64"))
		ADD_SUBDIRECTORY(Plugins/Audio/OpenAL)
	ENDIF()
ENDIF()

IF(KLAYGE_PLATFORM_WINDOWS)
	ADD_SUBDIRECTORY(Plugins/Render/D3D11)
	ADD_SUBDIRECTORY(Plugins/Render/D3D12)
	ADD_SUBDIRECTORY(Plugins/Audio/XAudio)

	IF(KLAYGE_PLATFORM_WINDOWS_DESKTOP)
		ADD_SUBDIRECTORY(Plugins/Show/DShow)
		ADD_SUBDIRECTORY(KGEConfig)
	ENDIF()
	ADD_SUBDIRECTORY(Plugins/Show/MFShow)
ENDIF()

IF(KLAYGE_IS_DEV_PLATFORM)
	ADD_SUBDIRECTORY(Plugins/Render/NullRender)
ENDIF()
ADD_SUBDIRECTORY(Plugins/Audio/NullAudio)
ADD_SUBDIRECTORY(Plugins/Audio/NullAudioDataSource)
ADD_SUBDIRECTORY(Plugins/Input/NullInput)
ADD_SUBDIRECTORY(Plugins/Script/NullScript)
ADD_SUBDIRECTORY(Plugins/Show/NullShow)
